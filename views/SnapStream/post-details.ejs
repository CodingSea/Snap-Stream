<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1><%= foundPost.user.username %></h1>
    

    <% if(isUserPost) { %>
        <form action="/snap-stream/<%= foundPost._id %>?_method=PUT" method="post">
            <label for="content">Content: </label>
            <input type="text" name="content" value="<%= foundPost.content %>">
            
            <button type="submit">Update Content</button>
        </form>
        <br>
        <form action="/snap-stream/<%= foundPost._id %>?_method=DELETE" method="post">
            <button type="submit">Delete Post</button>
        </form>
        <br>

        <form action="/snap-stream/<%= foundPost._id %>/like" method="post">
            <label for="like">Likes: <%= foundPost.likes.length %></label>
            <% if(isLiked) { %>
                <button type="submit" style="background: none; border: none; color: red;">♥</button>
            <% } else { %>
                <button type="submit" style="background: none; border: none;">♡</button>
            <% } %>
        </form>

        <br>

        <form action="/snap-stream/<%= foundPost._id %>/comment" method="post">
            <label for="content">Comment: </label>
            <input type="text" name="content">

            <button type="submit">Submit</button>
        </form>
    <% } else { %>
        <p>Content: <%= foundPost.content %></p>
        <label for="like">Likes: <%= foundPost.likes.length %></label>
    <% } %>

    

    <% foundPost.comments.forEach((comment) => { %>
        <div class="comment">
            <p><b><%= comment.user.username %></b></p>
            <p><%= comment.content %></p>
        </div>
    <% }); %>
</body>
</html>